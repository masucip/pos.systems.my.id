"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[905],{6905:(D,u,c)=>{c.r(u),c.d(u,{PrinterModule:()=>p});var d=c(177),h=c(126),r=c(4438),a=c(4523);let f=(()=>{class t{constructor(){}scan(){return(0,a.A)(function*(){"bluetooth"in navigator&&(yield function(){var e=(0,a.A)(function*({bleService:i,bleCharacteristic:s}){try{const o=yield navigator.bluetooth.requestDevice({filters:[{services:[i]}]});o.addEventListener("gattserverdisconnected",()=>{});const l=yield(yield(yield o.gatt.connect()).getPrimaryService(i)).getCharacteristic(s);return yield l.startNotifications(),l.addEventListener("characteristicvaluechanged",b=>{const C=b.target.value.getUint8(0);console.log(`${s} changed`,C)}),l.readValue(),l}catch(o){console.error(o)}});return function(s){return e.apply(this,arguments)}}()({bleService:"battery_service",bleCharacteristic:"battery_level"}))})()}scan2(){var n=this;return(0,a.A)(function*(){n.scan3("Uji coba cetak ke printer\nhehehe")})()}scan3(n){return(0,a.A)(function*(){try{const o=yield(yield(yield(yield navigator.bluetooth.requestDevice({acceptAllDevices:!0})).gatt.connect()).getPrimaryService("print_service_uuid")).getCharacteristic("print_characteristic_uuid"),v=(new TextEncoder).encode(n);yield o.writeValue(v),console.log("Data telah tercetak")}catch(e){console.error("Gagal mencetak:",e)}})()}static#t=this.\u0275fac=function(e){return new(e||t)};static#e=this.\u0275prov=r.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),y=(()=>{class t{constructor(n){this.bluetooth=n}ngOnInit(){}static#t=this.\u0275fac=function(e){return new(e||t)(r.rXU(f))};static#e=this.\u0275cmp=r.VBU({type:t,selectors:[["lib-printer"]],decls:2,vars:0,consts:[[1,"btn","btn-info",3,"click"]],template:function(e,i){1&e&&(r.j41(0,"button",0),r.bIt("click",function(){return i.bluetooth.scan2()}),r.EFF(1,"Scan"),r.k0s())}})}return t})();var g=c(8565);const m=[{path:"",component:y}];let p=(()=>{class t{static#t=this.\u0275fac=function(e){return new(e||t)};static#e=this.\u0275mod=r.$C({type:t});static#n=this.\u0275inj=r.G2t({imports:[d.MD,g.B,h.iI.forChild(m)]})}return t})()}}]);