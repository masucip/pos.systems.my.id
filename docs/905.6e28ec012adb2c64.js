"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[905],{6905:(C,l,r)=>{r.r(l),r.d(l,{PrinterModule:()=>g});var v=r(177),d=r(126),e=r(4438),u=r(4523);let h=(()=>{class t{constructor(){}scan(){return(0,u.A)(function*(){"bluetooth"in navigator&&(yield function(){var n=(0,u.A)(function*({bleService:o,bleCharacteristic:i}){try{const s=yield navigator.bluetooth.requestDevice({filters:[{services:[o]}]});s.addEventListener("gattserverdisconnected",()=>{});const a=yield(yield(yield s.gatt.connect()).getPrimaryService(o)).getCharacteristic(i);return yield a.startNotifications(),a.addEventListener("characteristicvaluechanged",p=>{const b=p.target.value.getUint8(0);console.log(`${i} changed`,b)}),a.readValue(),a}catch(s){console.error(s)}});return function(i){return n.apply(this,arguments)}}()({bleService:"battery_service",bleCharacteristic:"battery_level"}))})()}static#t=this.\u0275fac=function(n){return new(n||t)};static#e=this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),f=(()=>{class t{constructor(c){this.bluetooth=c}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||t)(e.rXU(h))};static#e=this.\u0275cmp=e.VBU({type:t,selectors:[["lib-printer"]],decls:2,vars:0,consts:[[1,"btn","btn-info",3,"click"]],template:function(n,o){1&n&&(e.j41(0,"button",0),e.bIt("click",function(){return o.bluetooth.scan()}),e.EFF(1,"Scan"),e.k0s())}})}return t})();var y=r(8565);const m=[{path:"",component:f}];let g=(()=>{class t{static#t=this.\u0275fac=function(n){return new(n||t)};static#e=this.\u0275mod=e.$C({type:t});static#n=this.\u0275inj=e.G2t({imports:[v.MD,y.B,d.iI.forChild(m)]})}return t})()}}]);